<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>LamPI 433Mhz controller for RaspberryPI</title>
</head>

<body>

<h1>LamPI Introduction</h1>
<p>The full table of contents for ALL LamPI documentation is &lt;<a href="LamPI_ToC.html"><strong>Here</strong></a>&gt;. 
Please start reading on that page when you finished reading this page.</p>
<p><a href="User Guide/screenshots/room_screen_black.JPG"><img src="User Guide/screenshots/room_screen_black_xs.jpg" alt="Black skin scalable" width="228" height="156" hspace="2" vspace="2"></a><a href="User Guide/screenshots/room_screen_wood.JPG"><img src="User Guide/screenshots/room_screen_wood_xs.jpg" alt="" width="228" height="156" hspace="2" vspace="2"></a><a href="User Guide/screenshots/room_screen_sea.JPG"><img src="User Guide/screenshots/room_screen_sea_xs.jpg" width="228" height="155" hspace="2" vspace="2"></a><a href="User Guide/screenshots/room_screen_linen.JPG"><img src="User Guide/screenshots/room_screen_linen_xs.jpg" width="228" height="155" hspace="2" vspace="2"></a></p>
<p>Click on any of the images here to see a large version of the screenshot. LamPI Gui layout scales with your screen, and there are many ways to configure the LamPI screens to your taste.<br>
</p>
<p>You can find its GIT repository on <a href="https://github.com/platenspeler">https://github.com/platenspeler</a>, and the documentation on <a href="http://platenspeler.github.io">http://platenspeler.github.io</a></p>
<p>LamPI is a Home Automation project for switching equipment in your house over 434 MHz transmitters/receivers on a RaspberryPI. As of release 2.0 LamPI offers (initial) support for Z-Wave devices. Support for Z-Wave 868MHz devices is implemented with a separate Raspberry bridge computer using the Razberry board. Please read more on Z-Wave support &lt;<a href="zwave/RazBerry/zwave_gateway.html"><strong>Here</strong></a>&gt;</p>
<h2>Control your lights and switches</h2>
<p>This is where I initially developed LamPI for. It will control your light switches and your dimmers and your other switches as well (if you want it can switch your stereo or microwave too). </p>
<p><img src="User Guide/screenshots/room_screen_grey.JPG" width="962" height="637" /></p>
<p>The screen above is one of the main screens of LamPI, and should give you a taste of what LamPI is about. As you see, the GUI interface is designed to operate (and manage) all tasks for the connected devices and minimize the need for manual changing of configuration files etc. let alone making configuration changes at compile time.</p>
<h2>Weather Sensors</h2>
<p>Recently, support for weather sensors was added to LamPI. In principle the LamPI-receiver process can be taught to detect a wide variety of temperature, humidity, rain and wind sensors. For the weather gauge widgets I used existing libraries such as the &quot;steel&quot; library of Gerrit Grunwald and Mark Crossley. If the configuration file contains definitions for supported weather sensors, then the menu will automatically display an option to view/select weather info.</p>
<p>Actually, what you see below is just a small example of what &quot;steel&quot; can do for your project. The library is highly customizable so you can make your own background, color an other settings if you like.</p>
<p>What you see below is the first version  for LamPI 1.9 with weather support. It does support weather sensors of UPM that transmit temperature and humidity values back to the LamPI-deamon.php process which are then broadcast to all connected clients. And as you see, the client will display the temperature (top row) for outside, the extension of our home and the living room. On the second row it will display the humidity for these three rooms. The definitions of sensors are found in the  configuration file.</p>
<p><img src="User Guide/screenshots/weather_screen_1.JPG" width="966" height="636"></p>
<p>Apart from the latest sensor info, or even near-real-time information received, I like to add support for historical charts etc. At the moment, all sensor readings are stored in a log file, and also in the MySQL database. </p>
<p>In case I missed something, please send me an email or make a note on this page. For the moment I'm the only author of LamPI so it can take a few days before I answer.</p>
<h1>LamPI History</h1>
<p>The goal of my project was to provide an easy interface to the family to control the lights in our house. We had klikaanklikuit.nl switches and we have an iPad (and some Android phones and Laptops) and want to control our light switches with an easy-to-use GUI interface. This meant that I needed at least 2 components: A component that would control transmitter and receiver and handle low-level device commands, and a GUI in JavaScript/jQuery that would handle the human interaction. In order to store configuration information and for timing commands and unattended use, we would also need a daemon process serving in the background as well as a database (written in MySQL) to store configuration information.</p>
<p>Although I would expect that you like to use the complete package, it is quite good possible to only use the RaspberryPI transmitter and receiver shell executables (see below)</p>
<p>&lt;<a href="Developer Guide/Architecture Guide/architecture.html">More information is available HERE</a>&gt;</p>
<h1>LamPI GUI Functions</h1>
<p>LamPI contains 6 main screens: Rooms, Scenes, Timers, Handsets, Weather and Config. For every screen I have assembled a few pages that contain instructions on common tasks you will perform. </p>
<p>The documentation for the LamPI functions can be found on this site on the following pages.</p>
<ul>
  <li><a href="Installation Manual/setup.html">Initial Setup</a></li>
  <li><a href="User Guide/rooms.html">The Rooms Screen</a></li>
  <li><a href="User Guide/scenes.html">The Scenes Screen</a></li>
  <li><a href="User Guide/timers.html">The Timers Screen</a></li>
  <li><a href="User Guide/handsets.html">The Handsets Screen</a></li>
  <li><a href="User Guide/weather.html">The Weather screen (optional, depends whether you have weather sensors)</a></li>
  <li><a href="User Guide/config.html">The Config Screen</a></li>
</ul>
<p>&nbsp;</p>
<h1>LamPI Receiver Functions</h1>
<p>Apart from the GUI interface, on the backend there are some other programs active: The main LamPI_daemon, some receivers (wireless and wired)<br>
</p>
<ul>
  <li>Transceiver interface; If you only want to use the <a href="Hardware/transceiver.html">LamPI-receiver  command-line</a> to send and receive 433MHz messages </li>
  <li><a href="Hardware/hardware_guide.html">Background information  433MHz hardware for RaspberryPI</a></li>
  <li><a href="sensors/weather_sensors_msg_format.html">Background information on Wired Sensors for PI (temperature, humidity etc).</a><br>
    <br>
  </li>
  <li>Background information on the <a href="Developer Guide/Architecture Guide/architecture.html">LamPI Architecture</a></li>
</ul>
<h1>What Switches, Dimmers and other devices are supported?</h1>
<p>LamPI can support receiver devices (making transmitter modules for various brands is often easy). Also, several brand share almost the same protocol or work or can be made to work with minor modifications, Therefore, the list below is probably just a snapshot of a much larger list...</p>
<h3>Receivers, Switches, Dimmers (433MHz)</h3>
<ul>
  <li>Klikaanklikuit switches, the new type</li>
  <li>Action or Impuls switches</li>
  <li>Livolo switches</li>
  <li>Kopou switches</li>
  <li>Elro (not tested, software is installed)</li>
  <li>Blokker (not tested, software is installed)</li>
  <li>Klikaanklikuit (old model with two wheels at the back, not tested)</li>
</ul>
<h3>Handsets and Remote Controls (433MHz)</h3>
<ul>
  <li>Klikaanklikuit remotes</li>
  <li>Livolo 4-button keychain</li>
  <li>Kopou 4-button keychain</li>
  <li>Pulse (Action) Remotes</li>
</ul>
<h3>Temperature Sensors (433MHz)</h3>
<ul>
  <li>WT-440H, made by UPM/Esic (The weather menu button will only show if a weather sensor is defined in the database.cfg file)</li>
  <li>WT-440, made by UPM/Esic (No humidity sensor)</li>
</ul>
<h3>Wired Sensors</h3>
<ul>
  <li>Wired sensors: DHT11, DHT22 Temperature/Humidity Sensor</li>
  <li>1-Wire bus sensors: DS18B20 Temperature Sensor</li>
  <li>2-wire I2C bus sensors:</li>
</ul>
<h3>Zwave 868MHz devices</h3>
<ul>
  <li>Fibaro FGD-211 Dimmer </li>
  <li>Popp dimmer</li>
  <li>Everspring AN157 Switch</li>
  <li>Fibaro Motion Sensor FGMS-001</li>
  <li>Danfoss Living Connect radiator thermostats</li>
</ul>
<p>&nbsp;</p>
<h1>What Platform(s) does LamPI run on?</h1>
<ul>
  <li>The web GUI of LamPI runs on every webserver in your network as it is implemented in Javascript/jQuery. That means that if you install it on a webserver in your network you can access the GUI User Interface from every browser in your network (and soon also from the internet). By default, the webserver runs fine on the RaspberryPI (you need the Raspberry anyway).<br>
    <br>
  <strong>The current web front-end works VERY well on iPad, and Android phones and tablets and it can be installed as an app...</strong><br>
  <br>
  </li>
  <li>If you want, you can setup the MySQL database on another server (that is what I did), but this is optional. Setting of the database server is in backend_config.php<br>
    <br>
  </li>
  <li>The low-level device functions for transmitter and receiver, will at the moment only run on the RaspberryPI, although making an Arduino version is probably not much work. The executables are all found in the ~/exe directory. The source code for these functions can be found in the ~/receivers directory.<br>
    <br>
  </li>
  <li>In order to control Z-Wave devices in the LamPI system, you need a separate Raspberry with Razberry Z-Wave board. Please read the special pages on Z-Wave. For the moment I do not support both Razberry (Z-Wave) and 433MHz transceivers on the same machine.</li>
</ul>
<h1>Architectural Considerations</h1>
<p>I did make an architecture document for LamPI which can be found &lt;<a href="Developer Guide/Architecture Guide/architecture.html">HERE</a>&gt;.</p>
<h1>Change Log</h1>
<p>Click <a href="changelog.html">&lt;HERE&gt;</a> for a list of changes made in a certain release.</p>
<h1><a name="planned_functions"></a>Planned Functions</h1>
<p>Of course I'm always thinking about new functions, as long as I do not have to put the current system up-side-down too much. After all, I do have other day-time work to do and it has to make sense for me to spend additional time. Therefore, you are welcome to ask for new functions, but if it will cost me days to implement them and I will not benefit from them in any way I will probably give priority to other changes.</p>
<ul>
  <li>Add support for Android phones. This is in beta at the moment and I use PhoneGap technology of Adobe to make such version. All Javascript/jQueryMobile code is already in the LamPI-x.y.js file, the index.html file will determine what libraries to load. I will probably publish a separate branch for Android with the same version number as its web equivalent.</li>
  <li>Add full support for Z-Wave or Zigbee. As the LamPI-daemon is quite universal in its setup adding transmitter/receivers for these technologies is relatively easy. At the moment ZWave support is implemented through a Z-Way gateway running on a dedicated RaspberryPI</li>
  <li>I like (at some time) be integrating my front-end with the new standards for Home Automation as soon as stacks become available for the Raspberry.</li>
  <li>Internationalization; Probably not worth spending too much time on this, as most people that will use this projects do not mind English versions anyway. So probably just making an alternative startup file for ''database.cfg&quot; would be enough for international customers to get a good feel for the software.</li>
</ul>
<h1><a name="known_issues"></a>Known Issues, Bugs etc.</h1>
<p>Both architectual and GUI related</p>
<ul>
  <li>The scale- sccs templates should work on screens with different resolutions. However, need to have dynamic changes between sccs look-and-feel sets once the screen gets too narrow and we know we work with a mobile phone screen.</li>
  <li>Sortable (shuffeling rows in room or scene view) works OK as far as GUI is concerned, but the background sync to mySql does not. Sortable is not 100% reliable.</li>
  <li>Sortable does not work for jqmobile yet, only for normal browser. Not sue if sorting rows makes sense for mobiles</li>
  <li>If possible we shoud merge jqmobile and jqueryUI so that all handling of screen buttons etc is uniform between the 2. Since mobile devices get a larger market share by the day, LamPI may shift to primary support for jqmobile in the future</li>
  <li>The current way of sending scene commands in LamPIxx.js is implemented as an ajax function message_device(&quot;scene&quot;,&quot;commandxxx). For ICS-1000 this is the only possibility, but for Raspberry we have implemented this function with webservices instead. As I stopped to use the ICS-1000 for some time ago, we must cleanup the code.</li>
  <li>As the backend server is running in batch, but not as a backend web server, we cannot ask the webserver to give us details about the IP address and many more $SERVER related parameters. This means that the client must know upfront to which server IP to connect. We can perhaps implement a UDP server that listens to client broadcasts coming in and responding with the IP address of the server. For GUI/Browser clients this not an issue since we must have an url to connect to anyway and for the moment we could assume that the webserver is running the daemon as well. However for commuication between sensors and the daemon it is necessary</li>
  <li>The configuraton of the backend through the backend.php executable must be protected so that only local clients can change or load the configuration. Leaving this open for remote devices as well could be a security issue.</li>
  <li>Adding new handsets at this moment still requires manual editing of the database.cfg file. I like to add more options to the OPTIONS screen for setup of new switch types and handset types, so that adding such switches and handsets at runtime is a lot easier.</li>
  <li>LamPI-gate.php, the gateway for controlling z-wave devices is written in PHP. It should change to javascript/node.js pretty soon for more reliability and especially for less overhead.</li>
  <li>Z-Wave alarms and sensors should be integrated into LamPI.</li>
</ul>
<p>January 25, 2015</p>
</body>
</html>
